<script>
  //initialization of emailJS variable
  var form_email, form_name, form_message, form_subject;

  $(document).on('ready', function() {
    // initialization of carousel
    $.HSCore.components.HSCarousel.init('.js-carousel');

    // initialization of tabs
    $.HSCore.components.HSTabs.init('[role="tablist"]');

    // initialization of header height offset
    $.HSCore.helpers.HSHeightCalc.init();

    // initialization of scroll animation
    $.HSCore.components.HSOnScrollAnimation.init('[data-animation]');

    // initialization of popups with media
    $.HSCore.components.HSPopup.init('.js-fancybox-media', {
      helpers: {
        media: {},
        overlay: {
          css: {
            'background': 'rgba(255, 255, 255, .8)'
          }
        }
      }
    });


    // initialization of go to
    $.HSCore.components.HSGoTo.init('.js-go-to');
  });

  $(window).on('load', function() {

    // initialization of header
    $.HSCore.components.HSHeader.init($('#js-header'));
    $.HSCore.helpers.HSHamburgers.init('.hamburger');

    // initialization of HSMegaMenu component
    $('.js-mega-menu').HSMegaMenu({
      event: 'hover',
      pageContainer: $('.container'),
      breakpoint: 991
    });
  });

  $(window).on('resize', function() {
    setTimeout(function() {
      $.HSCore.components.HSTabs.init('[role="tablist"]');
    }, 200);
  });

  //EmailJS
  $(".email-form").focusout(function() {
    form_email = $(this).val();
    console.log(form_email);
  });

  $(".name-form").focusout(function() {
    form_name = $(this).val();
  });


  $(".subject-form").focusout(function() {
    form_subject = $(this).val();
  });

  $(".message-form").focusout(function() {
    form_message = $(this).val();
  });

  //Sending Email forward emailJs
  $("#enviarEmail").click(function() {
    console.log("HOLA");

    var message_body = "<p>Hello this a message wrote by " + form_name + ". Her/him email is " + form_email + "</p><br><p>" + form_message + "</p>";
    Email.send({
      SecureToken: "21aeb15b-5d46-422e-85c8-f92db40fc340",
      To: 'javitofm15@gmail.com',
      From: "javitofm15@gmail.com",
      Subject: form_subject,
      Body: message_body
    }).then(
      message => alert(message)
    );
  });
</script>
